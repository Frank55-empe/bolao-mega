<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro no Bolão</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    form { background: white; padding: 20px; border-radius: 10px; max-width: 400px; margin: auto; }
    input, select, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
    .grid { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .grid button { width: 45px; height: 45px; border: none; border-radius: 50%; background: #eee; cursor: pointer; }
    .grid button.selected { background: #4caf50; color: white; }
    #loading, #confirmacao { display: none; text-align: center; margin-top: 20px; }
  </style>
</head>
<body>

<form id="formulario">
  <h2>Cadastro no Bolão</h2>
  <input type="text" name="nome" placeholder="Seu nome completo" required />
  <input type="text" name="nomePlanilha" placeholder="Nome da planilha desejada" required />
  <input type="text" name="whatsapp" placeholder="WhatsApp (com DDD)" required />
  <input type="text" name="cidade" placeholder="Cidade" required />

  <p>Escolha 6 dezenas:</p>
  <div class="grid" id="dezenas">
    <!-- Gera 60 botões de 01 a 60 -->
  </div>

  <button type="submit">Enviar</button>
  <div id="loading">Enviando...</div>
  <div id="confirmacao">Cadastro enviado com sucesso!</div>
</form>

<script>
  const grid = document.getElementById("dezenas");
  for (let i = 1; i <= 60; i++) {
    const btn = document.createElement("button");
    btn.textContent = i.toString().padStart(2, '0');
    btn.addEventListener("click", (e) => {
      e.preventDefault();
      btn.classList.toggle("selected");
    });
    grid.appendChild(btn);
  }

  const form = document.getElementById("formulario");
  form.addEventListener("submit", function (e) {
    e.preventDefault();
    document.getElementById("loading").style.display = "block";

    const dezenasSelecionadas = Array.from(document.querySelectorAll(".grid button.selected"))
      .map(btn => btn.textContent)
      .join(",");

    if (dezenasSelecionadas.split(",").length !== 6) {
      alert("Você deve selecionar exatamente 6 dezenas.");
      document.getElementById("loading").style.display = "none";
      return;
    }

    const dados = new FormData(form);
    dados.append("dezenas", dezenasSelecionadas);

    fetch("https://script.google.com/macros/s/AKfycbwUXTAnJvNX1FATNnf-c-WrjJnnvx2I1O_MSY0ID7zYAoPWiGTl1w62lYJXhLvpoXyV/exec", {
      method: "POST",
      body: dados
    })
    .then(response => response.text())
    .then(() => {
      document.getElementById("loading").style.display = "none";
      document.getElementById("confirmacao").style.display = "block";
      form.reset();
      document.querySelectorAll(".grid button").forEach(btn => btn.classList.remove("selected"));
    })
    .catch(err => {
      alert("Erro ao enviar dados.");
      document.getElementById("loading").style.display = "none";
    });
  });
</script>

</body>
</html>
